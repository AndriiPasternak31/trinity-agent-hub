schema_version: "1.1"

# GitHub repository where agent templates are stored
# CLI fetches CLAUDE.md, .mcp.json.template, config.yaml from here
repository: "AndriiPasternak31/trinity-agent-hub"
branch: "main"

agents:
  smarts-trader:
    type: single
    display_name: "SMARTS Trader (Minimal)"
    description: "Self-contained AI trading agent with Alpaca paper/live integration. Analyzes markets using RSI, MACD, and support/resistance, then executes bracket orders with risk management."
    author: "Vybe / SMARTS Team"
    version: "1.2.0"
    # No template â€” CLI creates bare agent and injects all files
    agent_dir: "agents/smarts-trader-minimal"
    categories: [trading, finance]
    credentials:
      - name: ALPACA_API_KEY
        description: "Alpaca Markets API key"
        service: alpaca
        required: true
      - name: ALPACA_SECRET_KEY
        description: "Alpaca Markets secret key"
        service: alpaca
        required: true
    resources: { cpu: "2", memory: "4g" }

  smarts-pipeline:
    type: system
    display_name: "SMARTS Trading Pipeline"
    description: "8-agent trading system: market regime detection, news sentiment, opportunity discovery, deep analysis, decision making, execution, portfolio oversight, and performance feedback."
    author: "Vybe / SMARTS Team"
    version: "1.1.0"
    categories: [trading, finance, pipeline]
    agent_count: 8

    # Agent templates are bundled in this repo under agents/
    # CLI creates bare agents and injects CLAUDE.md + .mcp.json + .env
    agents:
      - name: market-regime
        agent_dir: "agents/market-regime"
      - name: news-sentiment
        agent_dir: "agents/news-sentiment"
      - name: discovery
        agent_dir: "agents/discovery"
      - name: analysis
        agent_dir: "agents/analysis"
      - name: decision
        agent_dir: "agents/decision"
      - name: execution
        agent_dir: "agents/execution"
      - name: portfolio-manager
        agent_dir: "agents/portfolio-manager"
      - name: feedback
        agent_dir: "agents/feedback"

    credentials:
      - name: ALPACA_API_KEY
        description: "Alpaca Markets API key (get free paper keys at https://app.alpaca.markets)"
        service: alpaca
        required: true
      - name: ALPACA_SECRET_KEY
        description: "Alpaca Markets secret key"
        service: alpaca
        required: true

    # Infrastructure the CLI auto-provisions (no external Supabase needed)
    infrastructure:
      local_database:
        enabled: true
        description: "Local PostgreSQL + PostgREST for inter-agent communication"
        provides:
          SUPABASE_URL: "http://smarts-api:3000"
          SUPABASE_SERVICE_KEY: "auto-generated"

    resources: { cpu: "2", memory: "4g" }
